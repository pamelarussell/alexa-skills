#!/bin/bash

# This script generates a text file containing blocks of text that can be easily pasted into 
# the Alexa Voice Simulator to test the speech rendering. All questions and answer choices are
# included. This eliminates the need to play the game in order to hear the speech.

cat questions.JSON | \
 perl -pi -e 's/{//g' | \
 perl -pi -e 's/://g' | \
 perl -pi -e 's/\\\"/FORWARD_SLASH_DOUBLE_QUOTE/g' | \
 perl -pi -e 's/\"//g' | \
 perl -pi -e 's/FORWARD_SLASH_DOUBLE_QUOTE/\\\"/g' | \
 perl -pi -e 's/}//g' | \
 perl -pi -e 's/\[//g' | \
 perl -pi -e 's/\]//g' | \
 perl -pi -e 's/,//g' | \
 perl -pi -e 's/                         / /g' | \
 perl -pi -e 's/                     / /g' | \
 awk 'BEGIN {str=""; nr=0} NF > 0 {nr = nr+1; str = str $0 " <break time=\"1s\"/>"} nr % 20 == 0 {print str "\n\n"; nr=0; str=""}' > voice_simulator_test.txt



